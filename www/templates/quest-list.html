<ion-view view-title="GÃ¶rev Listesi">
  <ion-content>
    <div class="list card" ng-repeat="quest in quests">

      <div class="item" style="padding: 0; text-align: right;">
        <div class="row">
          <div class="col-40 category-icon-container"><i class="icon icon-task"></i>
            </div>
          <div class="col-50">
            <p class="">Posted on {{quest.createDate}}</p>

            <p>by {{quest.user.displayName}}</p>
          </div>
          <div class="col-10 flex-center-aligner" ng-click="showOptions(quest.questId)">
            <i class="icon ion-gear-a" style="font-size: 26px; color: red;"></i>
          </div>
        </div>


      </div>

      <a href="#/app/quest-detail/{{quest.questId}}" class="item" style="padding: 0; text-decoration: none;">
        <div class="item">
          <h2 class="item-title-text">{{quest.title}}</h2>

          <p>{{quest.description}}</p>
        </div>

        <div class="item item-image">
          <img ng-src="{{quest.questPhoto}}">
        </div>
      </a>
      <ion-item>
        <div class="row" style="text-align: center; font-size: 20px; font-weight: bold;">
          <div class="col-50" ng-click="addComment(quest.questId)">
            <i class="icon ion-ios-chatbubble-outline post-interaction" style="font-size: 25px;"></i>
            {{quest.comments.length || 0}}
          </div>
          <div class="col-50" ng-click="like(quest.questId)">
            <i class="icon ion-ios-heart-outline post-interaction" ng-class="{assertive: quest.liked}"
               style="font-size: 25px;"></i>
            {{quest.likeCount}}
          </div>
        </div>
      </ion-item>

      <ion-item class="item-avatar" ng-repeat="comment in quest.comments">
        <img ng-src="{{comment.user.avatar}}">

        <h2><b>{{comment.user.displayName}}:</b> {{comment.content}}</h2>

        <p>{{comment.createDate}} <i class="icon ion-thumbsup comment-like"
                                     ng-click="likeComment(quest.questId, comment.commentId)"
                                     ng-class="{assertive: comment.liked}"></i>
          {{comment.likeCount}}</p>
      </ion-item>

    </div>
  </ion-content>
</ion-view>
