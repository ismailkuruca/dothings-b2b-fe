<ion-view view-title="Turnuva Listesi">
  <ion-content>
    <div class="list card" ng-repeat="happyHour in happyHours">

      <div class="item" style="padding: 0; text-align: right;">
        <div class="row">
          <div class="col-40">
            <div class="col-40 category-icon-container"><i class="icon icon-happy-hour"></i></div>
          </div>
          <div class="col-50">
            <p class="">Son Tarih {{happyHour.createDate}}</p>

            <p>Turnuva Tarihi {{happyHour.endDate}}</p>
          </div>
          <div class="col-10 flex-center-aligner" ng-click="showOptions(happyHour.happyHourId)">
            <i class="icon ion-gear-a" style="font-size: 26px;"></i>
          </div>
        </div>


      </div>

      <div class="item">
        <h2 class="item-title-text">{{happyHour.title}}</h2>

        <p>{{happyHour.description}}</p>
      </div>

      <ion-item>
        <div class="row" style="text-align: center; font-size: 20px; font-weight: bold;">
          <div class="col-50" ng-click="addComment(happyHour.happyHourId)">
            <i class="icon ion-ios-chatbubble-outline post-interaction" style="font-size: 25px;"></i>
            {{happyHour.comments.length || 0}}
          </div>
          <div class="col-50" ng-click="like(happyHour.happyHourId)">
            <i class="icon ion-ios-heart-outline post-interaction" ng-class="{assertive: happyHour.liked}"
               style="font-size: 25px;"></i>
            {{happyHour.likeCount}}
          </div>
        </div>
      </ion-item>

      <ion-item class="item-avatar" ng-repeat="comment in happyHour.comments">
        <img ng-src="{{comment.user.avatar}}">

        <h2><b>{{comment.user.displayName}}:</b> {{comment.content}}</h2>

        <p>{{comment.createDate}} <i class="icon ion-thumbsup comment-like"
                                     ng-click="likeComment(happyHour.happyHourId, comment.commentId)"
                                     ng-class="{assertive: comment.liked}"></i>
          {{comment.likeCount}}</p>
      </ion-item>

    </div>
  </ion-content>
</ion-view>
